//
//  ViewController.swift
//  JeffWeather
//
//  Created by Jeff Glasse on 6/20/19.
//  Copyright © 2019 Jeff Glasse. All rights reserved.
//

import UIKit
import CoreLocation


class JeffWeatherVC: UIViewController, UICollectionViewDelegate,UICollectionViewDataSource,CLLocationManagerDelegate {
    var currentLocation: CLLocation?
    let locationManager = CLLocationManager()

    let sampleModel = [Day(date:Date(), highTemp: 70, lowTemp: 60, forecastImage: UIImage(named: "ClaviusCoffee")!),Day(date:Date(), highTemp: 80, lowTemp: 40, forecastImage: UIImage(named: "ClaviusCoffee")!)]
    let dayFormatter = DateFormatter()
    let sampleData = """
{"latitude":37.8267,"longitude":-122.4233,"timezone":"America/Los_Angeles","currently":{"time":1561320816,"summary":"Clear","icon":"clear-day","nearestStormDistance":616,"nearestStormBearing":3,"precipIntensity":0,"precipProbability":0,"temperature":71.19,"apparentTemperature":71.19,"dewPoint":56.47,"humidity":0.6,"pressure":1014.35,"windSpeed":7.2,"windGust":12.18,"windBearing":264,"cloudCover":0,"uvIndex":9,"visibility":5.346,"ozone":335.5},"minutely":{"summary":"Clear for the hour.","icon":"clear-day","data":[{"time":1561320780,"precipIntensity":0,"precipProbability":0},{"time":1561320840,"precipIntensity":0,"precipProbability":0},{"time":1561320900,"precipIntensity":0,"precipProbability":0},{"time":1561320960,"precipIntensity":0,"precipProbability":0},{"time":1561321020,"precipIntensity":0,"precipProbability":0},{"time":1561321080,"precipIntensity":0,"precipProbability":0},{"time":1561321140,"precipIntensity":0,"precipProbability":0},{"time":1561321200,"precipIntensity":0,"precipProbability":0},{"time":1561321260,"precipIntensity":0,"precipProbability":0},{"time":1561321320,"precipIntensity":0,"precipProbability":0},{"time":1561321380,"precipIntensity":0,"precipProbability":0},{"time":1561321440,"precipIntensity":0,"precipProbability":0},{"time":1561321500,"precipIntensity":0,"precipProbability":0},{"time":1561321560,"precipIntensity":0,"precipProbability":0},{"time":1561321620,"precipIntensity":0,"precipProbability":0},{"time":1561321680,"precipIntensity":0,"precipProbability":0},{"time":1561321740,"precipIntensity":0,"precipProbability":0},{"time":1561321800,"precipIntensity":0,"precipProbability":0},{"time":1561321860,"precipIntensity":0,"precipProbability":0},{"time":1561321920,"precipIntensity":0,"precipProbability":0},{"time":1561321980,"precipIntensity":0,"precipProbability":0},{"time":1561322040,"precipIntensity":0,"precipProbability":0},{"time":1561322100,"precipIntensity":0,"precipProbability":0},{"time":1561322160,"precipIntensity":0,"precipProbability":0},{"time":1561322220,"precipIntensity":0,"precipProbability":0},{"time":1561322280,"precipIntensity":0,"precipProbability":0},{"time":1561322340,"precipIntensity":0,"precipProbability":0},{"time":1561322400,"precipIntensity":0,"precipProbability":0},{"time":1561322460,"precipIntensity":0,"precipProbability":0},{"time":1561322520,"precipIntensity":0,"precipProbability":0},{"time":1561322580,"precipIntensity":0,"precipProbability":0},{"time":1561322640,"precipIntensity":0,"precipProbability":0},{"time":1561322700,"precipIntensity":0,"precipProbability":0},{"time":1561322760,"precipIntensity":0,"precipProbability":0},{"time":1561322820,"precipIntensity":0,"precipProbability":0},{"time":1561322880,"precipIntensity":0,"precipProbability":0},{"time":1561322940,"precipIntensity":0,"precipProbability":0},{"time":1561323000,"precipIntensity":0,"precipProbability":0},{"time":1561323060,"precipIntensity":0,"precipProbability":0},{"time":1561323120,"precipIntensity":0,"precipProbability":0},{"time":1561323180,"precipIntensity":0,"precipProbability":0},{"time":1561323240,"precipIntensity":0,"precipProbability":0},{"time":1561323300,"precipIntensity":0,"precipProbability":0},{"time":1561323360,"precipIntensity":0,"precipProbability":0},{"time":1561323420,"precipIntensity":0,"precipProbability":0},{"time":1561323480,"precipIntensity":0,"precipProbability":0},{"time":1561323540,"precipIntensity":0,"precipProbability":0},{"time":1561323600,"precipIntensity":0,"precipProbability":0},{"time":1561323660,"precipIntensity":0,"precipProbability":0},{"time":1561323720,"precipIntensity":0,"precipProbability":0},{"time":1561323780,"precipIntensity":0,"precipProbability":0},{"time":1561323840,"precipIntensity":0,"precipProbability":0},{"time":1561323900,"precipIntensity":0,"precipProbability":0},{"time":1561323960,"precipIntensity":0,"precipProbability":0},{"time":1561324020,"precipIntensity":0,"precipProbability":0},{"time":1561324080,"precipIntensity":0,"precipProbability":0},{"time":1561324140,"precipIntensity":0,"precipProbability":0},{"time":1561324200,"precipIntensity":0,"precipProbability":0},{"time":1561324260,"precipIntensity":0,"precipProbability":0},{"time":1561324320,"precipIntensity":0,"precipProbability":0},{"time":1561324380,"precipIntensity":0,"precipProbability":0}]},"hourly":{"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","data":[{"time":1561320000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":71.09,"apparentTemperature":71.09,"dewPoint":56.58,"humidity":0.6,"pressure":1014.43,"windSpeed":6.95,"windGust":11.87,"windBearing":265,"cloudCover":0,"uvIndex":9,"visibility":5.024,"ozone":334.9},{"time":1561323600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":71.54,"apparentTemperature":71.54,"dewPoint":56.11,"humidity":0.58,"pressure":1014.06,"windSpeed":8.04,"windGust":13.26,"windBearing":262,"cloudCover":0,"uvIndex":9,"visibility":6.443,"ozone":337.6},{"time":1561327200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":70.38,"apparentTemperature":70.38,"dewPoint":54.18,"humidity":0.56,"pressure":1014.01,"windSpeed":9.05,"windGust":13.32,"windBearing":251,"cloudCover":0.03,"uvIndex":8,"visibility":10,"ozone":336.1},{"time":1561330800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":69.19,"apparentTemperature":69.19,"dewPoint":52.71,"humidity":0.56,"pressure":1013.51,"windSpeed":9.4,"windGust":13.1,"windBearing":247,"cloudCover":0.06,"uvIndex":6,"visibility":10,"ozone":336.8},{"time":1561334400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":67.69,"apparentTemperature":67.69,"dewPoint":52.44,"humidity":0.58,"pressure":1013.05,"windSpeed":9.04,"windGust":12.94,"windBearing":249,"cloudCover":0.05,"uvIndex":3,"visibility":10,"ozone":339.9},{"time":1561338000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":66.13,"apparentTemperature":66.13,"dewPoint":52.18,"humidity":0.61,"pressure":1012.88,"windSpeed":8.61,"windGust":12.84,"windBearing":247,"cloudCover":0.04,"uvIndex":2,"visibility":10,"ozone":337.8},{"time":1561341600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":64.3,"apparentTemperature":64.3,"dewPoint":52.12,"humidity":0.65,"pressure":1012.8,"windSpeed":7.73,"windGust":11.71,"windBearing":244,"cloudCover":0.03,"uvIndex":0,"visibility":10,"ozone":338.2},{"time":1561345200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":62.81,"apparentTemperature":62.81,"dewPoint":52.18,"humidity":0.68,"pressure":1012.96,"windSpeed":7.06,"windGust":10.82,"windBearing":241,"cloudCover":0.03,"uvIndex":0,"visibility":10,"ozone":339.8},{"time":1561348800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":60.96,"apparentTemperature":60.96,"dewPoint":52.41,"humidity":0.73,"pressure":1013.09,"windSpeed":6.6,"windGust":10.72,"windBearing":237,"cloudCover":0.08,"uvIndex":0,"visibility":10,"ozone":337.3},{"time":1561352400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":59.3,"apparentTemperature":59.3,"dewPoint":52.42,"humidity":0.78,"pressure":1013.28,"windSpeed":6.23,"windGust":10.65,"windBearing":232,"cloudCover":0.09,"uvIndex":0,"visibility":10,"ozone":335.9},{"time":1561356000,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":58.79,"apparentTemperature":58.79,"dewPoint":52.29,"humidity":0.79,"pressure":1013.24,"windSpeed":5.79,"windGust":9.17,"windBearing":227,"cloudCover":0.13,"uvIndex":0,"visibility":10,"ozone":337.7},{"time":1561359600,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":57.93,"apparentTemperature":57.93,"dewPoint":52.29,"humidity":0.81,"pressure":1012.95,"windSpeed":5.83,"windGust":9.39,"windBearing":224,"cloudCover":0.22,"uvIndex":0,"visibility":10,"ozone":333.9},{"time":1561363200,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":57.58,"apparentTemperature":57.58,"dewPoint":52.17,"humidity":0.82,"pressure":1012.49,"windSpeed":5.77,"windGust":9.1,"windBearing":214,"cloudCover":0.33,"uvIndex":0,"visibility":10,"ozone":333.3},{"time":1561366800,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":57.03,"apparentTemperature":57.03,"dewPoint":52.56,"humidity":0.85,"pressure":1012.19,"windSpeed":5.16,"windGust":7.21,"windBearing":213,"cloudCover":0.48,"uvIndex":0,"visibility":10,"ozone":335.9},{"time":1561370400,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":56.31,"apparentTemperature":56.31,"dewPoint":52.39,"humidity":0.87,"pressure":1011.94,"windSpeed":5.14,"windGust":7.2,"windBearing":216,"cloudCover":0.51,"uvIndex":0,"visibility":10,"ozone":332.4},{"time":1561374000,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":55.56,"apparentTemperature":55.56,"dewPoint":52.2,"humidity":0.88,"pressure":1011.78,"windSpeed":4.9,"windGust":6.6,"windBearing":226,"cloudCover":0.51,"uvIndex":0,"visibility":10,"ozone":332.1},{"time":1561377600,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":55.29,"apparentTemperature":55.29,"dewPoint":52.1,"humidity":0.89,"pressure":1011.62,"windSpeed":4.8,"windGust":6.58,"windBearing":230,"cloudCover":0.53,"uvIndex":0,"visibility":10,"ozone":333.7},{"time":1561381200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":55.48,"apparentTemperature":55.48,"dewPoint":52.24,"humidity":0.89,"pressure":1011.62,"windSpeed":4.33,"windGust":5.53,"windBearing":226,"cloudCover":0.61,"uvIndex":0,"visibility":10,"ozone":331.4},{"time":1561384800,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":56.1,"apparentTemperature":56.1,"dewPoint":52.48,"humidity":0.88,"pressure":1011.65,"windSpeed":3.9,"windGust":4.97,"windBearing":228,"cloudCover":0.7,"uvIndex":0,"visibility":10,"ozone":331.1},{"time":1561388400,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":57.15,"apparentTemperature":57.15,"dewPoint":52.71,"humidity":0.85,"pressure":1011.75,"windSpeed":3.94,"windGust":5.09,"windBearing":231,"cloudCover":0.75,"uvIndex":1,"visibility":10,"ozone":333.8},{"time":1561392000,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":58.39,"apparentTemperature":58.39,"dewPoint":52.84,"humidity":0.82,"pressure":1011.84,"windSpeed":4.07,"windGust":4.85,"windBearing":232,"cloudCover":0.77,"uvIndex":2,"visibility":10,"ozone":331},{"time":1561395600,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":60.11,"apparentTemperature":60.11,"dewPoint":52.98,"humidity":0.77,"pressure":1011.94,"windSpeed":4.59,"windGust":5.39,"windBearing":228,"cloudCover":0.74,"uvIndex":3,"visibility":10,"ozone":331.4},{"time":1561399200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":61.68,"apparentTemperature":61.68,"dewPoint":53.1,"humidity":0.73,"pressure":1012.03,"windSpeed":5.31,"windGust":6.71,"windBearing":235,"cloudCover":0.72,"uvIndex":5,"visibility":10,"ozone":334.1},{"time":1561402800,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":63.33,"apparentTemperature":63.33,"dewPoint":53.28,"humidity":0.7,"pressure":1011.91,"windSpeed":6.09,"windGust":7.71,"windBearing":239,"cloudCover":0.57,"uvIndex":6,"visibility":10,"ozone":331.8},{"time":1561406400,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":64.93,"apparentTemperature":64.93,"dewPoint":53.45,"humidity":0.66,"pressure":1011.71,"windSpeed":7.33,"windGust":9.49,"windBearing":243,"cloudCover":0.54,"uvIndex":7,"visibility":10,"ozone":331.9},{"time":1561410000,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":66.05,"apparentTemperature":66.05,"dewPoint":53.47,"humidity":0.64,"pressure":1011.43,"windSpeed":8.41,"windGust":11.17,"windBearing":244,"cloudCover":0.31,"uvIndex":7,"visibility":10,"ozone":335.7},{"time":1561413600,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":66.31,"apparentTemperature":66.31,"dewPoint":53.53,"humidity":0.63,"pressure":1011.08,"windSpeed":8.66,"windGust":11.6,"windBearing":239,"cloudCover":0.4,"uvIndex":6,"visibility":10,"ozone":333},{"time":1561417200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":66.4,"apparentTemperature":66.4,"dewPoint":53.46,"humidity":0.63,"pressure":1010.63,"windSpeed":8.78,"windGust":11.93,"windBearing":253,"cloudCover":0.55,"uvIndex":4,"visibility":10,"ozone":334.1},{"time":1561420800,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":65.29,"apparentTemperature":65.29,"dewPoint":53.36,"humidity":0.65,"pressure":1010.17,"windSpeed":8.96,"windGust":12.81,"windBearing":246,"cloudCover":0.73,"uvIndex":3,"visibility":10,"ozone":336.8},{"time":1561424400,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":63.61,"apparentTemperature":63.61,"dewPoint":53.25,"humidity":0.69,"pressure":1009.93,"windSpeed":8.49,"windGust":12.16,"windBearing":236,"cloudCover":0.76,"uvIndex":1,"visibility":10,"ozone":335},{"time":1561428000,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":61.83,"apparentTemperature":61.83,"dewPoint":53.1,"humidity":0.73,"pressure":1009.68,"windSpeed":8.06,"windGust":12.07,"windBearing":246,"cloudCover":0.8,"uvIndex":0,"visibility":10,"ozone":334.9},{"time":1561431600,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":60.56,"apparentTemperature":60.56,"dewPoint":52.89,"humidity":0.76,"pressure":1009.56,"windSpeed":7.71,"windGust":11.88,"windBearing":244,"cloudCover":0.81,"uvIndex":0,"visibility":10,"ozone":336.2},{"time":1561435200,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":60,"apparentTemperature":60,"dewPoint":52.8,"humidity":0.77,"pressure":1009.76,"windSpeed":7.34,"windGust":11.46,"windBearing":241,"cloudCover":0.81,"uvIndex":0,"visibility":10,"ozone":334.2},{"time":1561438800,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":59.29,"apparentTemperature":59.29,"dewPoint":52.64,"humidity":0.79,"pressure":1010.22,"windSpeed":7.04,"windGust":10.94,"windBearing":239,"cloudCover":0.84,"uvIndex":0,"visibility":10,"ozone":333.6},{"time":1561442400,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":58.95,"apparentTemperature":58.95,"dewPoint":52.37,"humidity":0.79,"pressure":1010.43,"windSpeed":6.81,"windGust":10.62,"windBearing":237,"cloudCover":0.87,"uvIndex":0,"visibility":10,"ozone":336.8},{"time":1561446000,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":58.45,"apparentTemperature":58.45,"dewPoint":52.33,"humidity":0.8,"pressure":1010.33,"windSpeed":6.78,"windGust":10.54,"windBearing":237,"cloudCover":0.9,"uvIndex":0,"visibility":10,"ozone":333.8},{"time":1561449600,"summary":"Overcast","icon":"cloudy","precipIntensity":0.001,"precipProbability":0.01,"precipType":"rain","temperature":58.1,"apparentTemperature":58.1,"dewPoint":52.16,"humidity":0.81,"pressure":1010.06,"windSpeed":6.76,"windGust":10.64,"windBearing":239,"cloudCover":0.93,"uvIndex":0,"visibility":10,"ozone":334.7},{"time":1561453200,"summary":"Overcast","icon":"cloudy","precipIntensity":0.001,"precipProbability":0.01,"precipType":"rain","temperature":57.89,"apparentTemperature":57.89,"dewPoint":51.91,"humidity":0.8,"pressure":1009.88,"windSpeed":6.64,"windGust":10.68,"windBearing":242,"cloudCover":0.9,"uvIndex":0,"visibility":10,"ozone":336.2},{"time":1561456800,"summary":"Overcast","icon":"cloudy","precipIntensity":0.001,"precipProbability":0.01,"precipType":"rain","temperature":57.08,"apparentTemperature":57.08,"dewPoint":51.76,"humidity":0.82,"pressure":1009.73,"windSpeed":6.48,"windGust":10.79,"windBearing":244,"cloudCover":0.89,"uvIndex":0,"visibility":10,"ozone":336.4},{"time":1561460400,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.001,"precipProbability":0.01,"precipType":"rain","temperature":56.23,"apparentTemperature":56.23,"dewPoint":51.5,"humidity":0.84,"pressure":1009.65,"windSpeed":6.2,"windGust":10.82,"windBearing":247,"cloudCover":0.83,"uvIndex":0,"visibility":10,"ozone":337.3},{"time":1561464000,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.001,"precipProbability":0.01,"precipType":"rain","temperature":55.79,"apparentTemperature":55.79,"dewPoint":51.29,"humidity":0.85,"pressure":1009.6,"windSpeed":5.86,"windGust":10.65,"windBearing":247,"cloudCover":0.79,"uvIndex":0,"visibility":10,"ozone":338.3},{"time":1561467600,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":55.8,"apparentTemperature":55.8,"dewPoint":51.28,"humidity":0.85,"pressure":1009.83,"windSpeed":5.67,"windGust":10.66,"windBearing":248,"cloudCover":0.8,"uvIndex":0,"visibility":10,"ozone":339.7},{"time":1561471200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":56.39,"apparentTemperature":56.39,"dewPoint":51.34,"humidity":0.83,"pressure":1010.12,"windSpeed":5.51,"windGust":10.45,"windBearing":246,"cloudCover":0.8,"uvIndex":0,"visibility":10,"ozone":341.3},{"time":1561474800,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":57.41,"apparentTemperature":57.41,"dewPoint":51.41,"humidity":0.8,"pressure":1010.52,"windSpeed":5.53,"windGust":10.42,"windBearing":246,"cloudCover":0.77,"uvIndex":1,"visibility":10,"ozone":342.3},{"time":1561478400,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":58.48,"apparentTemperature":58.48,"dewPoint":51.69,"humidity":0.78,"pressure":1010.79,"windSpeed":6.06,"windGust":11.24,"windBearing":246,"cloudCover":0.74,"uvIndex":2,"visibility":10,"ozone":341.6},{"time":1561482000,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":59.97,"apparentTemperature":59.97,"dewPoint":52.02,"humidity":0.75,"pressure":1011.04,"windSpeed":6.8,"windGust":12.26,"windBearing":245,"cloudCover":0.49,"uvIndex":4,"visibility":10,"ozone":340.4},{"time":1561485600,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":61.24,"apparentTemperature":61.24,"dewPoint":52.23,"humidity":0.72,"pressure":1011.34,"windSpeed":7.45,"windGust":12.77,"windBearing":246,"cloudCover":0.36,"uvIndex":6,"visibility":10,"ozone":341.3},{"time":1561489200,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":62.51,"apparentTemperature":62.51,"dewPoint":52.6,"humidity":0.7,"pressure":1011.46,"windSpeed":8.54,"windGust":14.78,"windBearing":237,"cloudCover":0.35,"uvIndex":7,"visibility":10,"ozone":339.2},{"time":1561492800,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":64.26,"apparentTemperature":64.26,"dewPoint":52.85,"humidity":0.66,"pressure":1011.56,"windSpeed":9.58,"windGust":16.29,"windBearing":265,"cloudCover":0.3,"uvIndex":8,"visibility":10,"ozone":339.3},{"time":1561496400,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":65.71,"apparentTemperature":65.71,"dewPoint":53.01,"humidity":0.64,"pressure":1011.56,"windSpeed":10.49,"windGust":17.74,"windBearing":261,"cloudCover":0.18,"uvIndex":8,"visibility":10,"ozone":339.7}]},"daily":{"summary":"No precipitation throughout the week, with high temperatures falling to 59°F on Wednesday.","icon":"clear-day","data":[{"time":1561273200,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1561294184,"sunsetTime":1561347405,"moonPhase":0.71,"precipIntensity":0.0002,"precipIntensityMax":0.0015,"precipIntensityMaxTime":1561345200,"precipProbability":0.02,"precipType":"rain","temperatureHigh":71.54,"temperatureHighTime":1561323600,"temperatureLow":55.29,"temperatureLowTime":1561377600,"apparentTemperatureHigh":71.54,"apparentTemperatureHighTime":1561323600,"apparentTemperatureLow":55.29,"apparentTemperatureLowTime":1561377600,"dewPoint":52.25,"humidity":0.66,"pressure":1013.75,"windSpeed":5.8,"windGust":13.32,"windGustTime":1561327200,"windBearing":249,"cloudCover":0.03,"uvIndex":9,"uvIndexTime":1561320000,"visibility":7.534,"ozone":334.4,"temperatureMin":57.93,"temperatureMinTime":1561359600,"temperatureMax":71.54,"temperatureMaxTime":1561323600,"apparentTemperatureMin":57.93,"apparentTemperatureMinTime":1561359600,"apparentTemperatureMax":71.54,"apparentTemperatureMaxTime":1561323600},{"time":1561359600,"summary":"Mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1561380600,"sunsetTime":1561433813,"moonPhase":0.74,"precipIntensity":0.0002,"precipIntensityMax":0.0004,"precipIntensityMaxTime":1561446000,"precipProbability":0.03,"precipType":"rain","temperatureHigh":66.4,"temperatureHighTime":1561417200,"temperatureLow":55.79,"temperatureLowTime":1561464000,"apparentTemperatureHigh":66.4,"apparentTemperatureHighTime":1561417200,"apparentTemperatureLow":55.79,"apparentTemperatureLowTime":1561464000,"dewPoint":52.8,"humidity":0.77,"pressure":1011.23,"windSpeed":6.33,"windGust":12.81,"windGustTime":1561420800,"windBearing":236,"cloudCover":0.63,"uvIndex":7,"uvIndexTime":1561410000,"visibility":10,"ozone":333.7,"temperatureMin":55.29,"temperatureMinTime":1561377600,"temperatureMax":66.4,"temperatureMaxTime":1561417200,"apparentTemperatureMin":55.29,"apparentTemperatureMinTime":1561377600,"apparentTemperatureMax":66.4,"apparentTemperatureMaxTime":1561417200},{"time":1561446000,"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1561467018,"sunsetTime":1561520219,"moonPhase":0.77,"precipIntensity":0.0004,"precipIntensityMax":0.0012,"precipIntensityMaxTime":1561453200,"precipProbability":0.06,"precipType":"rain","temperatureHigh":66.32,"temperatureHighTime":1561503600,"temperatureLow":54.1,"temperatureLowTime":1561554000,"apparentTemperatureHigh":66.32,"apparentTemperatureHighTime":1561503600,"apparentTemperatureLow":54.1,"apparentTemperatureLowTime":1561554000,"dewPoint":52.09,"humidity":0.75,"pressure":1010.98,"windSpeed":8.56,"windGust":21.78,"windGustTime":1561510800,"windBearing":258,"cloudCover":0.56,"uvIndex":8,"uvIndexTime":1561496400,"visibility":10,"ozone":339.2,"temperatureMin":55.79,"temperatureMinTime":1561464000,"temperatureMax":66.32,"temperatureMaxTime":1561503600,"apparentTemperatureMin":55.79,"apparentTemperatureMinTime":1561464000,"apparentTemperatureMax":66.32,"apparentTemperatureMaxTime":1561503600},{"time":1561532400,"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1561553437,"sunsetTime":1561606623,"moonPhase":0.8,"precipIntensity":0.0003,"precipIntensityMax":0.0011,"precipIntensityMaxTime":1561554000,"precipProbability":0.07,"precipType":"rain","temperatureHigh":59.16,"temperatureHighTime":1561597200,"temperatureLow":55,"temperatureLowTime":1561636800,"apparentTemperatureHigh":59.16,"apparentTemperatureHighTime":1561597200,"apparentTemperatureLow":55,"apparentTemperatureLowTime":1561636800,"dewPoint":49.73,"humidity":0.77,"pressure":1015,"windSpeed":11.94,"windGust":21.59,"windGustTime":1561600800,"windBearing":274,"cloudCover":0.43,"uvIndex":7,"uvIndexTime":1561582800,"visibility":10,"ozone":342.3,"temperatureMin":54.1,"temperatureMinTime":1561554000,"temperatureMax":59.16,"temperatureMaxTime":1561597200,"apparentTemperatureMin":54.1,"apparentTemperatureMinTime":1561554000,"apparentTemperatureMax":59.16,"apparentTemperatureMaxTime":1561597200},{"time":1561618800,"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1561639858,"sunsetTime":1561693026,"moonPhase":0.84,"precipIntensity":0,"precipIntensityMax":0.0002,"precipIntensityMaxTime":1561705200,"precipProbability":0.02,"temperatureHigh":63.07,"temperatureHighTime":1561672800,"temperatureLow":54.6,"temperatureLowTime":1561723200,"apparentTemperatureHigh":63.07,"apparentTemperatureHighTime":1561672800,"apparentTemperatureLow":54.6,"apparentTemperatureLowTime":1561723200,"dewPoint":49.71,"humidity":0.72,"pressure":1018.14,"windSpeed":11.87,"windGust":22.53,"windGustTime":1561687200,"windBearing":287,"cloudCover":0.23,"uvIndex":7,"uvIndexTime":1561669200,"visibility":10,"ozone":355.7,"temperatureMin":55,"temperatureMinTime":1561636800,"temperatureMax":63.07,"temperatureMaxTime":1561672800,"apparentTemperatureMin":55,"apparentTemperatureMinTime":1561636800,"apparentTemperatureMax":63.07,"apparentTemperatureMaxTime":1561672800},{"time":1561705200,"summary":"Mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1561726281,"sunsetTime":1561779426,"moonPhase":0.87,"precipIntensity":0.0001,"precipIntensityMax":0.0003,"precipIntensityMaxTime":1561708800,"precipProbability":0.02,"precipType":"rain","temperatureHigh":66.78,"temperatureHighTime":1561759200,"temperatureLow":53.51,"temperatureLowTime":1561809600,"apparentTemperatureHigh":66.78,"apparentTemperatureHighTime":1561759200,"apparentTemperatureLow":53.51,"apparentTemperatureLowTime":1561809600,"dewPoint":48.93,"humidity":0.66,"pressure":1017.02,"windSpeed":8.06,"windGust":19.79,"windGustTime":1561770000,"windBearing":289,"cloudCover":0.46,"uvIndex":7,"uvIndexTime":1561748400,"visibility":10,"ozone":348.3,"temperatureMin":54.6,"temperatureMinTime":1561723200,"temperatureMax":66.78,"temperatureMaxTime":1561759200,"apparentTemperatureMin":54.6,"apparentTemperatureMinTime":1561723200,"apparentTemperatureMax":66.78,"apparentTemperatureMaxTime":1561759200},{"time":1561791600,"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1561812704,"sunsetTime":1561865825,"moonPhase":0.9,"precipIntensity":0.0001,"precipIntensityMax":0.0003,"precipIntensityMaxTime":1561852800,"precipProbability":0.02,"precipType":"rain","temperatureHigh":64.62,"temperatureHighTime":1561849200,"temperatureLow":52.63,"temperatureLowTime":1561892400,"apparentTemperatureHigh":64.62,"apparentTemperatureHighTime":1561849200,"apparentTemperatureLow":52.63,"apparentTemperatureLowTime":1561892400,"dewPoint":51.39,"humidity":0.78,"pressure":1015.57,"windSpeed":7.57,"windGust":18.8,"windGustTime":1561860000,"windBearing":257,"cloudCover":0.28,"uvIndex":9,"uvIndexTime":1561842000,"visibility":10,"ozone":348.3,"temperatureMin":53.51,"temperatureMinTime":1561809600,"temperatureMax":64.62,"temperatureMaxTime":1561849200,"apparentTemperatureMin":53.51,"apparentTemperatureMinTime":1561809600,"apparentTemperatureMax":64.62,"apparentTemperatureMaxTime":1561849200},{"time":1561878000,"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1561899130,"sunsetTime":1561952222,"moonPhase":0.94,"precipIntensity":0.0001,"precipIntensityMax":0.0003,"precipIntensityMaxTime":1561896000,"precipProbability":0.02,"precipType":"rain","temperatureHigh":63.45,"temperatureHighTime":1561932000,"temperatureLow":52.49,"temperatureLowTime":1561982400,"apparentTemperatureHigh":63.45,"apparentTemperatureHighTime":1561932000,"apparentTemperatureLow":52.49,"apparentTemperatureLowTime":1561982400,"dewPoint":51.4,"humidity":0.82,"pressure":1016.49,"windSpeed":6.83,"windGust":18.03,"windGustTime":1561939200,"windBearing":239,"cloudCover":0.17,"uvIndex":9,"uvIndexTime":1561928400,"visibility":10,"ozone":322.4,"temperatureMin":52.63,"temperatureMinTime":1561892400,"temperatureMax":63.45,"temperatureMaxTime":1561932000,"apparentTemperatureMin":52.63,"apparentTemperatureMinTime":1561892400,"apparentTemperatureMax":63.45,"apparentTemperatureMaxTime":1561932000}]},"flags":{"sources":["nwspa","cmc","gfs","hrrr","icon","isd","madis","nam","sref","darksky","nearest-precip"],"nearest-station":1.835,"units":"us"},"offset":-7}
    
"""
    
    
    override func viewDidLoad() {
        super.viewDidLoad()
        dayFormatter.dateFormat = "EE"
        locationManager.delegate = self
        // Do any additional setup after loading the view.
    }
    
    // MARK: - IBActions & IBOutlets

    @IBAction func forecast(_ sender: Any) {
        getLocation()
    }
    
    
    @IBOutlet weak var forecastCollectionView: UICollectionView!
    

    
}





// MARK: - CoreLocation Methods

extension JeffWeatherVC {
    
    func getLocation() {
        locationManager.requestWhenInUseAuthorization()
    }
    
    func locationManager(_ manager: CLLocationManager, didChangeAuthorization status: CLAuthorizationStatus) {
        print("locationManager didChangeAuthorization")
        if status == .authorizedWhenInUse
        {
            currentLocation = locationManager.location
            devLog(currentLocation)
        }
        else
        {
            currentLocation = nil // not really necessary, but here for clarity
        }
    }
    
}

// MARK: -


// MARK: - UICOllectiomView Methods
extension JeffWeatherVC {
    func numberOfSections(in collectionView: UICollectionView) -> Int {
        return 1
    }
    
    func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -> Int {
        return sampleModel.count
        
    }
    
    func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {
        let cell = collectionView.dequeueReusableCell(withReuseIdentifier: "ForecastCell", for: indexPath) as! ForecastCell
     //   set labels and image here
        cell.dayField.text = dayFormatter.string(from: sampleModel[indexPath.item].date)
        cell.imageView.image = sampleModel[indexPath.item].forecastImage
        cell.highField.text = String(sampleModel[indexPath.item].highTemp)
        cell.lowField.text = String(sampleModel[indexPath.item].lowTemp)
        return cell
    }
    
    
}

